<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Integration test | Hexo</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.3.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Hexo</a></h1>
		<h2 class="header__subtitle"></h2>
	</header>

	<main>
		<article>
	
		<h1>Integration test</h1>
	
	<div class="article__infos">
		<span class="article__date">2023-04-23</span><br />
		
		
	</div>

	

	
		<h3 id="What-is-Integration-test"><a href="#What-is-Integration-test" class="headerlink" title="What is Integration test"></a>What is Integration test</h3><span id="more"></span>


<p> Integration testing is a type of software testing that evaluates the behavior of multiple components of a system when they are integrated and working together as a whole. It is typically performed after unit testing and before system testing to ensure that the individual units of the system can work together correctly.<br> The main goal of integration testing is to identify defects and problems that may arise when the individual components are integrated. It checkes the interactions between different modules, components, or subsystems to verify that they function correctly and in a coordinated way.</p>
<h3 id="Implement-the-integration-test"><a href="#Implement-the-integration-test" class="headerlink" title="Implement the integration test"></a>Implement the integration test</h3><ol>
<li>At first install a NuGet package called <strong>Microsoft.EntityFrameworkCore.InMemory</strong> to make the test class indepently, to implement that we have to create a partial class for that test class in <strong>Program.cs</strong>.</li>
<li>Line 35-38: We don’t want to use <strong>Rotativa</strong> when tasting, it could cause errors. Line 49: Create a partial class.<br> <figure class="figure"><img src="/../images/CsharpDotnet/IntegrationTest/program.png" alt="program"><figcaption class="figure__caption">program</figcaption></figure></li>
<li>To make that partial class avariable outside the current working application thoes steps are necessary: Right click the project -&gt; Edit project file -&gt; Add new item group -&gt; Add &amp;lg;InternalVisibleTo Include&#x3D;”projectName” &#x2F;&gt;.<br> <figure class="figure"><img src="/../images/CsharpDotnet/IntegrationTest/editProjectFile.png" alt="editProjectFile"><figcaption class="figure__caption">editProjectFile</figcaption></figure></li>
<li>Create a new class in the test project to implement <strong>WebApplicationFactory</strong>&lt;<strong>Program</strong>&gt; along the partial class. At here we create our customWebApplicationFactory for testing. Line 16 override <strong>ConfigureWebHost</strong>. Line 18 provide those configurations from program to the current class. Line 20 set the environment to Test. Line 22 - 35 configure the services when testing, if there is any DbContext then remove it and create a in memory database by using the InMemory NuGet package.<br> <figure class="figure"><img src="/../images/CsharpDotnet/IntegrationTest/customWebApplicationFactory.png" alt="customWebApplicationFactory"><figcaption class="figure__caption">customWebApplicationFactory</figcaption></figure></li>
<li>Line 12 implement that <strong>CustomWebApplicationFactory</strong> class we created before. Line 15 - 20 create <strong>HttpClient</strong> object fields and constructor to mock the http request and response. Line 30 simulate a http get request and get that response result. Line 33 - 39 assert the result and the html document’s nodes.<br> <figure class="figure"><img src="/../images/CsharpDotnet/IntegrationTest/personControllerIntegrationTest.png" alt="personControllerIntegrationTest"><figcaption class="figure__caption">personControllerIntegrationTest</figcaption></figure></li>
</ol>

	

	
		<span class="different-posts"><a href="/2023/04/23/Integration-test/" onclick="window.history.go(-1); return false;">⬅️ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2023 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
